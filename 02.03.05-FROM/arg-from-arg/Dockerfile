# Объявление переменной окружения с версией
ARG IMAGE_VERSION=1.37.0
# При указании образа используется созданная
# ранее переменная для указания версии.
FROM busybox:${IMAGE_VERSION}
# Переменная IMAGE_VERSION после FROM
# уже недоступна. Следующая инструкция нужна
# для того чтобы IMAGE_VERSION стала доступной
# для последующих инструкций.
ARG IMAGE_VERSION
# Используется переменная окружения IMAGE_VERSION,
# которая снова стала доступной после повторной
# инструкции ARG после инструкции FROM при выводе 
# сообщения.
RUN echo Building from image version $IMAGE_VERSION
# Основная инструкция с приветствием.
ENTRYPOINT [ "echo", "Hello, world!" ]
