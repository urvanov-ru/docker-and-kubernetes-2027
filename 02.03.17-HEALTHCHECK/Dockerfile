# Базовый образ с nginx и Alpine Linux версии 1.29.4
FROM nginx:1.29.4-alpine
# Настройка параметров проверки жизнеспособности:
# - 30 секунд между проверками.
# - 3 секунды время максимального ожидания ответа.
# - 5 интервал между попытками проверки при старте контейнера.
# - 3 попытки проверки.
# Команда проверки просто пытается с помощью curl проверить
# доступность Nginx на localhost контейнера. 
HEALTHCHECK --interval=30s \ 
  --timeout=3s \
  --start-period=5s \
  --retries=3 \
  CMD curl -f http://localhost/ || exit 1